import Swiper from"swiper";import"swiper/scss";import"swiper/scss/a11y";import{getComponents}from"./utils";!function(){const e=getComponents("slider");function t(e){const{swiper:t,children:n}=function(e){const{slidesPerView:t=4.5,controls:n,slidesOffsetBefore:s=0,slidesOffsetAfter:i=0,promotion:o}=e.dataset;e.classList.add("component__slider");const d=document.createElement("div");d.classList.add("swiper-wrapper");const c=Array.from(e.children);let r,l,a;if(c.forEach((e=>{const t=document.createElement("div");t.classList.add("swiper-slide"),t.appendChild(e),d.appendChild(t)})),e.appendChild(d),"true"===n){r=document.createElement("button"),r.classList.add("component__slider__controls--next"),l=document.createElement("button"),l.classList.add("component__slider__controls--prev"),o&&(a=document.createElement("div"),a.classList.add("component__slider__controls--promo"),a.innerHTML=o);const v=document.createElement("div");v.classList.add("component__slider__controls"),v.appendChild(l),a&&v.appendChild(a),v.appendChild(r),e.appendChild(v)}const p=window.matchMedia("(max-width: 767px)").matches,f=new Swiper(e,{slidesPerView:t,allowTouchMove:p,slidesOffsetBefore:parseFloat(s),slidesOffsetAfter:parseFloat(i)});function m(){r&&l&&(f.isBeginning?l.setAttribute("disabled",!0):l.removeAttribute("disabled"),f.isEnd?r.setAttribute("disabled",!0):r.removeAttribute("disabled"))}m(),f.on("slideChange",m);const u=document.querySelectorAll("[data-slide-to]");if(u&&u.length>0){function h({activeIndex:e}){const t=u[e];u.forEach((e=>e.classList.remove("js-activeslide"))),t.classList.add("js-activeslide")}u.forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const{slideTo:n}=e.dataset;f.slideTo(n)}))})),h({activeIndex:0}),f.on("slideChange",h)}return r&&l&&(r.addEventListener("click",(function(e){e.preventDefault(),f.slideNext()})),l.addEventListener("click",(function(e){e.preventDefault(),f.slidePrev()}))),{swiper:f,children:c}}(e);e.swiper=t,e.original=n}function n(){window.dispatchEvent(new Event("resize"))}e.length<=0||e.forEach((e=>{t(e),window.addEventListener("resize",(function(){!function(e){console.log("reseting..."),function(e){const t=e.swiper;t&&(t.destroy(),function(e){const t=e.original;e.innerHTML="",t.forEach((t=>{e.appendChild(t)}))}(e))}(e),setTimeout((()=>{t(e)}),100)}(e)})),Shopify.designMode&&(document.addEventListener("shopify:section:reorder",n),document.addEventListener("shopify:section:select",n),document.addEventListener("shopify:section:deselect",n),document.addEventListener("shopify:section:load",n),document.addEventListener("shopify:section:unload",n),document.addEventListener("shopify:block:select",n),document.addEventListener("shopify:block:deselect",n))}))}();